# ðŸ”„ Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ñ–Ð·Ð°Ñ†Ñ–Ñ API Ð¼Ñ–Ð¶ Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´Ð¾Ð¼ Ñ– Ð±ÐµÐºÐµÐ½Ð´Ð¾Ð¼

## ðŸ“‹ **ÐœÐµÑ‚Ð¾Ð´Ð¸ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ñ–Ð·Ð°Ñ†Ñ–Ñ—:**

### **1. Ð¡Ð¿Ñ–Ð»ÑŒÐ½Ñ– Ñ‚Ð¸Ð¿Ð¸ Ð´Ð°Ð½Ð¸Ñ…**

#### **Ð¡Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð¾ Ñ„Ð°Ð¹Ð» `shared-types.ts`:**

```typescript
// Ð¡Ð¿Ñ–Ð»ÑŒÐ½Ñ– Ñ‚Ð¸Ð¿Ð¸ Ð´Ð»Ñ Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´Ñƒ Ñ– Ð±ÐµÐºÐµÐ½Ð´Ñƒ
export interface CreatePairRequest {
  albumId: number;
  beforePhotoId: number;
  afterPhotoId: number;
  label?: string;
}

export interface CreatePairResponse {
  id: number;
  albumId: number;
  beforePhotoId: number;
  afterPhotoId: number;
  label?: string;
  createdAt: string;
  updatedAt: string;
}
```

### **2. Ð’Ð°Ð»Ñ–Ð´Ð°Ñ†Ñ–Ñ Ð½Ð° Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´Ñ–**

#### **Ð”Ð¾Ð´Ð°Ð½Ð¾ Ð²Ð°Ð»Ñ–Ð´Ð°Ñ†Ñ–ÑŽ Ð² API ÐºÐ»Ñ–Ñ”Ð½Ñ‚:**

```typescript
const validateCreatePairData = (data: CreatePairRequest): string[] => {
  const errors: string[] = [];

  if (!data.albumId || typeof data.albumId !== "number" || data.albumId < 1) {
    errors.push("albumId must be a positive number");
  }

  if (
    !data.beforePhotoId ||
    typeof data.beforePhotoId !== "number" ||
    data.beforePhotoId < 1
  ) {
    errors.push("beforePhotoId must be a positive number");
  }

  if (
    !data.afterPhotoId ||
    typeof data.afterPhotoId !== "number" ||
    data.afterPhotoId < 1
  ) {
    errors.push("afterPhotoId must be a positive number");
  }

  return errors;
};
```

### **3. Ð’Ð°Ð»Ñ–Ð´Ð°Ñ†Ñ–Ñ Ð² ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ñ–**

#### **Ð”Ð¾Ð´Ð°Ð½Ð¾ Ð¿ÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ¸ Ð² `handleCreatePair`:**

```typescript
// ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ° Ð²Ð°Ð»Ñ–Ð´Ð½Ð¾ÑÑ‚Ñ– Ð´Ð°Ð½Ð¸Ñ…
if (isNaN(pairData.albumId) || pairData.albumId < 1) {
  throw new Error(`Invalid albumId: ${selectedAlbum.id}`);
}
if (isNaN(pairData.beforePhotoId) || pairData.beforePhotoId < 1) {
  throw new Error(`Invalid beforePhotoId: ${beforePhoto.id}`);
}
if (isNaN(pairData.afterPhotoId) || pairData.afterPhotoId < 1) {
  throw new Error(`Invalid afterPhotoId: ${afterPhoto.id}`);
}
```

---

## ðŸ”§ **ÐŸÑ€Ð°ÐºÑ‚Ð¸Ñ‡Ð½Ñ– ÐºÑ€Ð¾ÐºÐ¸ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ñ–Ð·Ð°Ñ†Ñ–Ñ—:**

### **ÐšÑ€Ð¾Ðº 1: Ð¡Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð½Ñ ÑÐ¿Ñ–Ð»ÑŒÐ½Ð¸Ñ… Ñ‚Ð¸Ð¿Ñ–Ð²**

- âœ… Ð¡Ñ‚Ð²Ð¾Ñ€ÐµÐ½Ð¾ `shared-types.ts`
- âœ… Ð’Ð¸Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¾ Ñ–Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹ÑÐ¸ Ð´Ð»Ñ Ð²ÑÑ–Ñ… API
- âœ… Ð”Ð¾Ð´Ð°Ð½Ð¾ Ð²Ð°Ð»Ñ–Ð´Ð°Ñ†Ñ–Ð¹Ð½Ñ– ÑÑ…ÐµÐ¼Ð¸

### **ÐšÑ€Ð¾Ðº 2: ÐžÐ½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ API ÐºÐ»Ñ–Ñ”Ð½Ñ‚Ð°**

- âœ… Ð†Ð¼Ð¿Ð¾Ñ€Ñ‚ ÑÐ¿Ñ–Ð»ÑŒÐ½Ð¸Ñ… Ñ‚Ð¸Ð¿Ñ–Ð²
- âœ… Ð”Ð¾Ð´Ð°Ð½Ð¾ Ð²Ð°Ð»Ñ–Ð´Ð°Ñ†Ñ–ÑŽ Ð¿ÐµÑ€ÐµÐ´ Ð²Ñ–Ð´Ð¿Ñ€Ð°Ð²ÐºÐ¾ÑŽ
- âœ… ÐžÐ±Ñ€Ð¾Ð±ÐºÐ° Ð¿Ð¾Ð¼Ð¸Ð»Ð¾Ðº Ð²Ð°Ð»Ñ–Ð´Ð°Ñ†Ñ–Ñ—

### **ÐšÑ€Ð¾Ðº 3: ÐžÐ½Ð¾Ð²Ð»ÐµÐ½Ð½Ñ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ñ–Ð²**

- âœ… Ð’Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð½Ð½Ñ Ñ‚Ð¸Ð¿Ñ–Ð·Ð¾Ð²Ð°Ð½Ð¸Ñ… Ð´Ð°Ð½Ð¸Ñ…
- âœ… Ð’Ð°Ð»Ñ–Ð´Ð°Ñ†Ñ–Ñ Ð½Ð° Ñ€Ñ–Ð²Ð½Ñ– ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ð°
- âœ… Ð”ÐµÑ‚Ð°Ð»ÑŒÐ½Ð° Ð¾Ð±Ñ€Ð¾Ð±ÐºÐ° Ð¿Ð¾Ð¼Ð¸Ð»Ð¾Ðº

### **ÐšÑ€Ð¾Ðº 4: Ð¢ÐµÑÑ‚ÑƒÐ²Ð°Ð½Ð½Ñ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ñ–Ð·Ð°Ñ†Ñ–Ñ—**

- âœ… ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ° Ñ‚Ð¸Ð¿Ñ–Ð² Ð½Ð° ÐºÐ¾Ð¼Ð¿Ñ–Ð»ÑÑ†Ñ–Ñ—
- âœ… Ð’Ð°Ð»Ñ–Ð´Ð°Ñ†Ñ–Ñ Ð´Ð°Ð½Ð¸Ñ… Ð² runtime
- âœ… Ð¢ÐµÑÑ‚ÑƒÐ²Ð°Ð½Ð½Ñ Ñ‡ÐµÑ€ÐµÐ· API

---

## ðŸŽ¯ **ÐŸÐµÑ€ÐµÐ²Ð°Ð³Ð¸ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ñ–Ð·Ð°Ñ†Ñ–Ñ—:**

### **1. Ð¢Ð¸Ð¿Ð¾Ð±ÐµÐ·Ð¿ÐµÐºÐ°**

- âœ… TypeScript Ð¿ÐµÑ€ÐµÐ²Ñ–Ñ€ÑÑ” Ñ‚Ð¸Ð¿Ð¸ Ð½Ð° ÐºÐ¾Ð¼Ð¿Ñ–Ð»ÑÑ†Ñ–Ñ—
- âœ… ÐÐµÐ¼Ð¾Ð¶Ð»Ð¸Ð²Ð¾ Ð²Ñ–Ð´Ð¿Ñ€Ð°Ð²Ð¸Ñ‚Ð¸ Ð½ÐµÐ¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ– Ð´Ð°Ð½Ñ–
- âœ… ÐÐ²Ñ‚Ð¾ÐºÐ¾Ð¼Ð¿Ð»Ñ–Ñ‚ Ð² IDE

### **2. Ð’Ð°Ð»Ñ–Ð´Ð°Ñ†Ñ–Ñ**

- âœ… ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ° Ð´Ð°Ð½Ð¸Ñ… Ð½Ð° Ñ„Ñ€Ð¾Ð½Ñ‚ÐµÐ½Ð´Ñ–
- âœ… Ð Ð°Ð½Ð½Ñ” Ð²Ð¸ÑÐ²Ð»ÐµÐ½Ð½Ñ Ð¿Ð¾Ð¼Ð¸Ð»Ð¾Ðº
- âœ… ÐšÑ€Ð°Ñ‰Ð¸Ð¹ UX Ð´Ð»Ñ ÐºÐ¾Ñ€Ð¸ÑÑ‚ÑƒÐ²Ð°Ñ‡Ð°

### **3. ÐŸÑ–Ð´Ñ‚Ñ€Ð¸Ð¼ÐºÐ°**

- âœ… Ð›ÐµÐ³ÐºÐ¾ Ð·Ð¼Ñ–Ð½ÑŽÐ²Ð°Ñ‚Ð¸ API
- âœ… Ð¦ÐµÐ½Ñ‚Ñ€Ð°Ð»Ñ–Ð·Ð¾Ð²Ð°Ð½Ñ– Ñ‚Ð¸Ð¿Ð¸
- âœ… Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ñ–Ñ Ñ‡ÐµÑ€ÐµÐ· Ñ‚Ð¸Ð¿Ð¸

---

## ðŸš€ **ÐÐ°ÑÑ‚ÑƒÐ¿Ð½Ñ– ÐºÑ€Ð¾ÐºÐ¸:**

### **1. Ð Ð¾Ð·ÑˆÐ¸Ñ€ÐµÐ½Ð½Ñ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ñ–Ð·Ð°Ñ†Ñ–Ñ—**

- [ ] Ð”Ð¾Ð´Ð°Ñ‚Ð¸ Ð²Ð°Ð»Ñ–Ð´Ð°Ñ†Ñ–ÑŽ Ð´Ð»Ñ Ð²ÑÑ–Ñ… API endpoints
- [ ] Ð¡Ñ‚Ð²Ð¾Ñ€Ð¸Ñ‚Ð¸ ÑÐ¿Ñ–Ð»ÑŒÐ½Ñ– enum'Ð¸
- [ ] Ð”Ð¾Ð´Ð°Ñ‚Ð¸ JSDoc ÐºÐ¾Ð¼ÐµÐ½Ñ‚Ð°Ñ€Ñ–

### **2. ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ñ–Ñ**

- [ ] Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ñ–Ñ Ñ‚Ð¸Ð¿Ñ–Ð² Ð· OpenAPI ÑÑ…ÐµÐ¼Ð¸
- [ ] ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡Ð½Ð° Ð²Ð°Ð»Ñ–Ð´Ð°Ñ†Ñ–Ñ
- [ ] CI/CD Ð¿ÐµÑ€ÐµÐ²Ñ–Ñ€ÐºÐ¸ Ñ‚Ð¸Ð¿Ñ–Ð²

### **3. Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ñ–Ñ**

- [ ] API Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ñ–Ñ
- [ ] ÐŸÑ€Ð¸ÐºÐ»Ð°Ð´Ð¸ Ð²Ð¸ÐºÐ¾Ñ€Ð¸ÑÑ‚Ð°Ð½Ð½Ñ
- [ ] Troubleshooting guide

---

## ðŸ“Š **Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ñ–Ð·Ð°Ñ†Ñ–Ñ—:**

### **Ð”Ð¾ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ñ–Ð·Ð°Ñ†Ñ–Ñ—:**

```typescript
// âŒ ÐŸÐ¾Ð¼Ð¸Ð»ÐºÐ¸ Ñ‚Ð¸Ð¿Ñ–Ð²
await galleryApi.createPair({
  albumId: "2", // string Ð·Ð°Ð¼Ñ–ÑÑ‚ÑŒ number
  beforePhotos: ["url1", "url2"], // Ð¼Ð°ÑÐ¸Ð² Ð·Ð°Ð¼Ñ–ÑÑ‚ÑŒ ID
  afterPhotos: ["url3", "url4"],
});
```

### **ÐŸÑ–ÑÐ»Ñ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ñ–Ð·Ð°Ñ†Ñ–Ñ—:**

```typescript
// âœ… ÐŸÑ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ– Ñ‚Ð¸Ð¿Ð¸
await galleryApi.createPair({
  albumId: 2, // number
  beforePhotoId: 34, // number
  afterPhotoId: 37, // number
  label: "ÐŸÐ°Ñ€Ð° 1",
});
```

**Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚:** ÐŸÐ¾Ð²Ð½Ð° Ñ‚Ð¸Ð¿Ð¾Ð±ÐµÐ·Ð¿ÐµÐºÐ° Ñ– Ð²Ð°Ð»Ñ–Ð´Ð°Ñ†Ñ–Ñ Ð½Ð° Ð²ÑÑ–Ñ… Ñ€Ñ–Ð²Ð½ÑÑ…! ðŸŽ‰

